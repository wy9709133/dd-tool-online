<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cURLè§£æå·¥å…· - ddæ•°æ®æ˜¾ç¤º</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            padding: 30px;
        }
        
        .response-section {
            grid-column: 1 / -1;
            margin-top: 20px;
        }
        
        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }
        
        .section-title {
            font-size: 1.3em;
            font-weight: 600;
            margin-bottom: 15px;
            color: #2c3e50;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        textarea, input {
            width: 100%;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            resize: vertical;
        }
        
        .button-group {
            display: flex;
            gap: 10px;
            margin: 15px 0;
            flex-wrap: wrap;
        }
        
        button {
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn-primary { background: #3498db; color: white; }
        .btn-success { background: #27ae60; color: white; }
        .btn-warning { background: #f39c12; color: white; }
        .btn-secondary { background: #95a5a6; color: white; }
        .btn-danger { background: #e74c3c; color: white; }
        
        button:hover { transform: translateY(-2px); }
        
        .response-container {
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            height: 500px;
        }
        
        .response-header {
            background: #34495e;
            color: white;
            padding: 12px 15px;
            font-weight: 600;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .free-order-header {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
        }
        
        .response-content {
            padding: 15px;
            background: #f8f9fa;
            flex: 1;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        
        .free-order-content {
            background: #f0f9f0;
        }
        
        .stats {
            display: flex;
            gap: 15px;
            margin-top: 10px;
            flex-wrap: wrap;
        }
        
        .stat-card {
            background: white;
            padding: 10px 15px;
            border-radius: 6px;
            border-left: 4px solid #3498db;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .stat-card.free { border-left-color: #27ae60; }
        
        .copy-btn {
            background: transparent;
            border: 1px solid rgba(255,255,255,0.3);
            color: white;
            padding: 5px 10px;
            font-size: 12px;
        }
        
        .data-item {
            margin-bottom: 10px;
            padding: 8px;
            border-radius: 4px;
            background: white;
            border-left: 3px solid #3498db;
        }
        
        .data-item.free { border-left-color: #27ae60; background: #f0f9f0; }
        
        .highlight {
            background: #fff3cd;
            padding: 2px 4px;
            border-radius: 3px;
            font-weight: bold;
        }
        
        .network-info {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            padding: 10px 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            font-size: 14px;
        }
        
        .error-tips {
            background: #fee;
            border: 1px solid #e74c3c;
            border-radius: 8px;
            padding: 15px;
            margin-top: 10px;
            font-size: 13px;
        }
        
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #3498db;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ”— ddå·¥å…·</h1>
            <p>è¯·å…ˆè§£æå†å»å‘é€ | ğŸŒ ä½¿ç”¨æ‚¨è‡ªå·±çš„ç½‘ç»œç¯å¢ƒ</p>
        </div>
        
        <div class="main-content">
            <div class="input-section">
                <div class="section-title">ğŸ“ è¾“å…¥cURLå‘½ä»¤</div>
                <textarea id="curlInput" placeholder="ç²˜è´´cURLå‘½ä»¤..." rows="8"></textarea>
                
                <div class="button-group">
                    <button class="btn-primary" onclick="parseCurl()">ğŸš€ è§£æcURL</button>
                    <button class="btn-success" onclick="sendRequest()">ğŸ“¤ å‘é€è¯·æ±‚</button>
                    <button class="btn-secondary" onclick="clearAll()">ğŸ—‘ï¸ æ¸…ç©ºæ‰€æœ‰</button>
                    <button class="btn-warning" onclick="loadExample()">ğŸ“‹ åŠ è½½ç¤ºä¾‹</button>
                </div>
                
                <div class="stats" id="inputStats">
                    <div class="stat-card">è¾“å…¥å­—ç¬¦: <span id="charCount">0</span></div>
                    <div class="stat-card">è§£æçŠ¶æ€: <span id="parseStatus">ç­‰å¾…è¾“å…¥</span></div>
                    <div class="stat-card">ç½‘ç»œçŠ¶æ€: <span id="networkStatus">æ£€æµ‹ä¸­...</span></div>
                </div>
            </div>
            
            <div class="output-section">
                <div class="section-title">ğŸ”§ è§£æç»“æœ</div>
                
                <input type="text" id="urlOutput" placeholder="è¯·æ±‚URL" readonly>
                <textarea id="headersOutput" placeholder="è¯·æ±‚å¤´" rows="3" readonly></textarea>
                <textarea id="dataOutput" placeholder="è¯·æ±‚ä½“æ•°æ®" rows="3" readonly></textarea>
                
                <div class="button-group">
                    <button class="btn-secondary" onclick="copyAll()">ğŸ“ å¤åˆ¶å…¨éƒ¨</button>
                    <button class="btn-warning" onclick="analyzeData()">ğŸ” åˆ†ææ•°æ®ç»“æ„</button>
                </div>
            </div>
            
            <div class="response-section">
                <!-- å…è´¹è®¢å•åŒºåŸŸ -->
                <div class="response-column">
                    <div class="section-title">ğŸ’° å…è´¹è®¢å•æ•°æ®</div>
                    
                    <div class="network-info" id="networkInfo">
                        ğŸŒ ç½‘ç»œä¿¡æ¯æ£€æµ‹ä¸­...
                    </div>
                    
                    <div class="response-container">
                        <div class="response-header free-order-header">
                            <span>ğŸ¯ å…è´¹è®¢å• (Free Orders)</span>
                            <button class="copy-btn" onclick="copyFreeOrders()">å¤åˆ¶</button>
                        </div>
                        <div class="response-content free-order-content" id="freeOrderContent">
                            å…è´¹è®¢å•æ•°æ®å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ...
                        </div>
                    </div>
                    <div class="stats">
                        <div class="stat-card free">å¯ç”¨è®¢å•: <span id="availableOrders">0</span></div>
                        <div class="stat-card free">æ€»è®¢å•æ•°: <span id="totalOrders">0</span></div>
                        <div class="stat-card free">æ€»é‡‘é¢: <span id="totalAmount">0</span> å…ƒ</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ç½‘ç»œä¿¡æ¯æ£€æµ‹
        async function detectNetworkInfo() {
            try {
                const networkInfoEl = document.getElementById('networkInfo');
                const networkStatusEl = document.getElementById('networkStatus');
                
                // è·å–ç”¨æˆ·IP
                const ipResponse = await fetch('https://api.ipify.org?format=json');
                const ipData = await ipResponse.json();
                
                // è·å–ä½ç½®ä¿¡æ¯ï¼ˆç®€åŒ–ç‰ˆï¼‰
                const locationResponse = await fetch('https://ipapi.co/json/');
                const locationData = await locationResponse.json();
                
                const networkInfo = `
ğŸŒ æ‚¨çš„ç½‘ç»œä¿¡æ¯ï¼š
ğŸ“ IPåœ°å€: ${ipData.ip}
ğŸ  ä½ç½®: ${locationData.city || 'æœªçŸ¥'}, ${locationData.country_name || 'æœªçŸ¥'}
ğŸ“± è¯·æ±‚å°†ç›´æ¥ä»æ‚¨çš„æµè§ˆå™¨å‘é€åˆ°ç›®æ ‡æœåŠ¡å™¨
ğŸ’¡ ä½¿ç”¨æ‚¨è‡ªå·±çš„ç½‘ç»œç¯å¢ƒï¼Œæ— ä»£ç†ä¸­è½¬
                `.trim();
                
                networkInfoEl.innerHTML = networkInfo.replace(/\n/g, '<br>');
                networkStatusEl.textContent = 'âœ… å°±ç»ª';
                networkStatusEl.style.color = '#27ae60';
                
            } catch (error) {
                console.log('ç½‘ç»œä¿¡æ¯æ£€æµ‹å¤±è´¥:', error);
                document.getElementById('networkInfo').innerHTML = 
                    'ğŸŒ ç½‘ç»œä¿¡æ¯: ä½¿ç”¨æ‚¨è‡ªå·±çš„æœ¬åœ°ç½‘ç»œç¯å¢ƒ<br>ğŸ’¡ è¯·æ±‚å°†ç›´æ¥ä»æ‚¨çš„æµè§ˆå™¨å‘é€';
                document.getElementById('networkStatus').textContent = 'âœ… å°±ç»ª';
            }
        }
        
        // è§£æcURLå‘½ä»¤
        function parseCurlCommand(curlString) {
            const result = {
                method: 'GET',
                url: '',
                headers: {},
                data: ''
            };
            
            curlString = curlString.trim();
            
            // è§£ææ–¹æ³•
            const methodMatch = curlString.match(/-X\s+(GET|POST|PUT|DELETE|PATCH)/i);
            if (methodMatch) result.method = methodMatch[1].toUpperCase();
            else if (curlString.includes('--data') || curlString.includes('-d')) result.method = 'POST';
            
            // è§£æURL
            const urlRegex = /(?:curl\s+)?(?:-X\s+\w+\s+)?['"]([^'"]+)['"]|(?:curl\s+)?(https?:\/\/[^\s]+)/;
            const urlMatch = curlString.match(urlRegex);
            if (urlMatch) result.url = urlMatch[1] || urlMatch[2];
            
            // è§£æHeaders
            const headerRegex = /-H\s*['"]([^'"]+)['"]/g;
            let headerMatch;
            while ((headerMatch = headerRegex.exec(curlString)) !== null) {
                const headerStr = headerMatch[1];
                const separatorIndex = headerStr.indexOf(':');
                if (separatorIndex > -1) {
                    const key = headerStr.substring(0, separatorIndex).trim();
                    const value = headerStr.substring(separatorIndex + 1).trim();
                    result.headers[key] = value;
                }
            }
            
            // è§£ææ•°æ®
            const dataRegex = /--data-raw\s*['"]([^'"]+)['"]|--data\s*['"]([^'"]+)['"]|-d\s*['"]([^'"]+)['"]/;
            const dataMatch = curlString.match(dataRegex);
            if (dataMatch) result.data = dataMatch[1] || dataMatch[2] || dataMatch[3] || '';
            
            return result;
        }
        
        // åˆ†ç¦»æ•°æ®
        function separateMeituanData(responseData) {
            const result = {
                freeOrders: { data: null, stats: {} },
                other: { data: null }
            };
            
            try {
                if (responseData.code === 0 && responseData.data) {
                    const data = responseData.data;
                    
                    // æå–å…è´¹è®¢å•æ•°æ®
                    if (data.module_activity_list) {
                        result.freeOrders.data = data.module_activity_list;
                        try {
                            const freeData = JSON.parse(data.module_activity_list.string_data);
                            if (freeData.freeOrderRecord) {
                                result.freeOrders.stats.total = freeData.freeOrderRecord.length;
                                result.freeOrders.stats.available = freeData.freeOrderRecord.filter(order => order.status === 1).length;
                                result.freeOrders.stats.totalAmount = freeData.freeOrderRecord.reduce((sum, order) => sum + (order.awardPrice / 100), 0);
                            }
                        } catch (e) {}
                    }
                    
                    // å…¶ä»–æ•°æ®
                    result.other.data = {
                        page_template: data.page_template,
                        module_activity_status: data.module_activity_status,
                        json_data: data.json_data
                    };
                }
            } catch (error) {
                console.error('æ•°æ®åˆ†ç¦»é”™è¯¯:', error);
            }
            
            return result;
        }
        
        // æ ¼å¼åŒ–æ˜¾ç¤ºæ•°æ®
        function formatDataForDisplay(data, type) {
            if (!data) return 'æš‚æ— æ•°æ®';
            
            try {
                if (type === 'freeOrders') {
                    const freeData = JSON.parse(data.string_data);
                    if (freeData.freeOrderRecord) {
                        let output = 'ğŸ“‹ å…è´¹è®¢å•è®°å½•:\n\n';
                        freeData.freeOrderRecord.forEach((order, index) => {
                            const amount = (order.awardPrice / 100).toFixed(2);
                            const date = new Date(order.ctime).toLocaleString();
                            const status = order.status === 1 ? 'ğŸŸ¢ å¯ç”¨' : 'ğŸ”´ å·²ä½¿ç”¨';
                            output += `${index + 1}. é‡‘é¢: ${amount}å…ƒ | çŠ¶æ€: ${status}\n`;
                            output += `   æ—¶é—´: ${date}\n`;
                            output += `   --------------------\n`;
                        });
                        return output;
                    }
                }
            } catch (error) {
                return `æ•°æ®æ ¼å¼é”™è¯¯: ${error.message}`;
            }
            
            return JSON.stringify(data, null, 2);
        }
        
        // ä¸»è¦åŠŸèƒ½å‡½æ•°
        function parseCurl() {
            const curlInput = document.getElementById('curlInput').value;
            if (!curlInput.trim()) {
                alert('è¯·è¾“å…¥cURLå‘½ä»¤');
                return;
            }
            
            try {
                const result = parseCurlCommand(curlInput);
                document.getElementById('urlOutput').value = result.url || '';
                document.getElementById('headersOutput').value = Object.entries(result.headers)
                    .map(([key, value]) => `${key}: ${value}`).join('\n');
                document.getElementById('dataOutput').value = result.data || '';
                
                document.getElementById('parseStatus').textContent = 'è§£ææˆåŠŸ';
                document.getElementById('parseStatus').style.color = '#27ae60';
                
            } catch (error) {
                alert('è§£æå¤±è´¥: ' + error.message);
            }
        }
        
        async function sendRequest() {
            const url = document.getElementById('urlOutput').value;
            if (!url) {
                alert('è¯·å…ˆè§£æcURLå‘½ä»¤');
                return;
            }
            
            const headersText = document.getElementById('headersOutput').value;
            const data = document.getElementById('dataOutput').value;
            
            // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
            const sendButton = document.querySelector('.btn-success');
            const originalText = sendButton.innerHTML;
            sendButton.innerHTML = '<div class="loading"></div> å‘é€ä¸­...';
            sendButton.disabled = true;
            
            try {
                // è½¬æ¢headers
                const headers = {};
                headersText.split('\n').forEach(line => {
                    if (line.trim()) {
                        const [key, ...valueParts] = line.split(':');
                        if (key && valueParts.length > 0) {
                            headers[key.trim()] = valueParts.join(':').trim();
                        }
                    }
                });
                
                console.log('ğŸŒ ä½¿ç”¨ç”¨æˆ·æœ¬åœ°ç½‘ç»œå‘é€è¯·æ±‚...');
                console.log('ç›®æ ‡URL:', url);
                console.log('è¯·æ±‚å¤´:', headers);
                
                // ç›´æ¥ä½¿ç”¨fetchå‘é€è¯·æ±‚ï¼ˆä½¿ç”¨ç”¨æˆ·è‡ªå·±çš„ç½‘ç»œï¼‰
                const response = await fetch(url, {
                    method: 'POST',
                    headers: headers,
                    body: data || undefined,
                    // é‡è¦ï¼šè®©æµè§ˆå™¨å¤„ç†è·¨åŸŸï¼Œä¸ä½¿ç”¨ä»£ç†
                    credentials: 'omit'
                });
                
                if (!response.ok) {
                    throw new Error(`HTTPé”™è¯¯! çŠ¶æ€ç : ${response.status}`);
                }
                
                const responseData = await response.json();
                
                // åˆ†ç¦»æ•°æ®æ˜¾ç¤º
                const separatedData = separateMeituanData(responseData);
                
                // æ›´æ–°å…è´¹è®¢å•æ˜¾ç¤º
                document.getElementById('freeOrderContent').textContent = 
                    formatDataForDisplay(separatedData.freeOrders.data, 'freeOrders');
                
                // æ›´æ–°ç»Ÿè®¡ä¿¡æ¯
                document.getElementById('availableOrders').textContent = separatedData.freeOrders.stats.available || 0;
                document.getElementById('totalOrders').textContent = separatedData.freeOrders.stats.total || 0;
                document.getElementById('totalAmount').textContent = separatedData.freeOrders.stats.totalAmount?.toFixed(2) || '0';
                
                showNotification('âœ… è¯·æ±‚æˆåŠŸï¼ä½¿ç”¨æ‚¨çš„æœ¬åœ°ç½‘ç»œ', 'success');
                
            } catch (error) {
                console.error('è¯·æ±‚å¤±è´¥:', error);
                let errorMessage = `è¯·æ±‚å¤±è´¥: ${error.message}\n\n`;
                
                // æä¾›æ›´å‹å¥½çš„é”™è¯¯æç¤º
                if (error.message.includes('CORS') || error.message.includes('cross-origin') || error.message.includes('è·¨åŸŸ')) {
                    errorMessage += 'ğŸ” è·¨åŸŸé—®é¢˜æç¤º:\n';
                    errorMessage += 'â€¢ ç›®æ ‡æœåŠ¡å™¨è®¾ç½®äº†è·¨åŸŸé™åˆ¶\n';
                    errorMessage += 'â€¢ å»ºè®®åœ¨æœ¬åœ°ç¯å¢ƒè¿è¡Œæ­¤å·¥å…·\n';
                    errorMessage += 'â€¢ æˆ–ä½¿ç”¨æµè§ˆå™¨æ‰©å±•ä¸´æ—¶ç¦ç”¨CORS\n\n';
                    errorMessage += 'ğŸ’¡ è§£å†³æ–¹æ¡ˆ:\n';
                    errorMessage += '1. ä¸‹è½½HTMLæ–‡ä»¶åˆ°æœ¬åœ°ä½¿ç”¨\n';
                    errorMessage += '2. ä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…æ¨¡å¼å¯åŠ¨ï¼ˆç¦ç”¨å®‰å…¨é™åˆ¶ï¼‰\n';
                    errorMessage += '3. å®‰è£…CORSè§£é™¤æ‰©å±•ï¼ˆä»…é™æµ‹è¯•ï¼‰';
                } else if (error.message.includes('Failed to fetch')) {
                    errorMessage += 'ğŸ” ç½‘ç»œè¿æ¥é—®é¢˜:\n';
                    errorMessage += 'â€¢ è¯·æ£€æŸ¥ç½‘ç»œè¿æ¥\n';
                    errorMessage += 'â€¢ ç›®æ ‡æœåŠ¡å™¨å¯èƒ½æ— æ³•è®¿é—®\n';
                    errorMessage += 'â€¢ æˆ–å­˜åœ¨é˜²ç«å¢™é™åˆ¶';
                }
                
                document.getElementById('freeOrderContent').textContent = errorMessage;
                showNotification('âŒ è¯·æ±‚å¤±è´¥', 'error');
            } finally {
                // æ¢å¤æŒ‰é’®çŠ¶æ€
                sendButton.innerHTML = originalText;
                sendButton.disabled = false;
            }
        }
        
        function analyzeData() {
            alert('æ•°æ®åˆ†æåŠŸèƒ½ï¼š\n\nâœ… è‡ªåŠ¨è¯†åˆ«å…è´¹è®¢å•\nâœ… ç»Ÿè®¡å…³é”®æŒ‡æ ‡\nâœ… æ ¼å¼åŒ–æ˜¾ç¤ºæ•°æ®\n\nğŸŒ ä½¿ç”¨æ‚¨çš„æœ¬åœ°ç½‘ç»œç¯å¢ƒå‘é€è¯·æ±‚');
        }
        
        function loadExample() {
            const exampleCurl = `curl -X POST 'https://adapi.waimai.meituan.com/api/ad/landingPage' \\
  -H 'User-Agent: Mozilla/5.0' \\
  -H 'Content-Type: application/x-www-form-urlencoded' \\
  -H 'Authorization: Bearer example_token' \\
  -d 'notitlebar=1&future=2&scene_id=179&entry=tiantianmiandan&page_size=10'`;
            
            document.getElementById('curlInput').value = exampleCurl;
            showNotification('ğŸ“‹ å·²åŠ è½½ç¤ºä¾‹cURLå‘½ä»¤', 'info');
        }
        
        function clearAll() {
            document.getElementById('curlInput').value = '';
            document.getElementById('urlOutput').value = '';
            document.getElementById('headersOutput').value = '';
            document.getElementById('dataOutput').value = '';
            document.getElementById('freeOrderContent').textContent = 'å…è´¹è®¢å•æ•°æ®å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ...';
            
            // é‡ç½®ç»Ÿè®¡
            ['availableOrders', 'totalOrders', 'totalAmount'].forEach(id => {
                document.getElementById(id).textContent = '0';
            });
        }
        
        function copyFreeOrders() {
            copyToClipboard(document.getElementById('freeOrderContent').textContent);
            showNotification('ğŸ“‹ å·²å¤åˆ¶å…è´¹è®¢å•æ•°æ®', 'success');
        }
        
        function copyAll() {
            const url = document.getElementById('urlOutput').value;
            const headers = document.getElementById('headersOutput').value;
            const data = document.getElementById('dataOutput').value;
            const content = `URL: ${url}\n\nHeaders:\n${headers}\n\nData:\n${data}`;
            copyToClipboard(content);
            showNotification('ğŸ“ å·²å¤åˆ¶å…¨éƒ¨è§£æç»“æœ', 'success');
        }
        
        async function copyToClipboard(text) {
            try {
                await navigator.clipboard.writeText(text);
            } catch (error) {
                const textArea = document.createElement('textarea');
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
            }
        }
        
        function showNotification(message, type) {
            // åˆ›å»ºä¸´æ—¶é€šçŸ¥
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 15px 20px;
                background: ${type === 'success' ? '#27ae60' : type === 'error' ? '#e74c3c' : '#f39c12'};
                color: white;
                border-radius: 8px;
                z-index: 1000;
                box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            `;
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                document.body.removeChild(notification);
            }, 3000);
        }
        
        // è¾“å…¥ç›‘å¬
        document.getElementById('curlInput').addEventListener('input', function() {
            document.getElementById('charCount').textContent = this.value.length;
        });
        
        // é¡µé¢åŠ è½½æ—¶æ£€æµ‹ç½‘ç»œä¿¡æ¯
        document.addEventListener('DOMContentLoaded', function() {
            detectNetworkInfo();
        });
    </script>
</body>
</html>